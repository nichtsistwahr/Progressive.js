var Progressive=function(){"use strict";function getElements(selector){var elements,selectorType=selector.match(/[^a-zA-Z0-9-]/g);return elements=null===selectorType?d.getElementsByTagName(selector):1===selectorType.length&&"."===selectorType[0]&&void 0!==d.getElementsByClassName?d.getElementsByClassName(selector.slice(1)):1===selectorType.length&&"#"===selectorType[0]?[d.getElementById(selector.slice(1))]:d.querySelectorAll(selector)}function enhance(enhancements){function issueCallback(enhancement,target){var i,elems=enhancement.elems;if(void 0!==elems){for(i=elems.length-1;i>=0;--i)if(elems[i]===target)return;elems.push(target)}enhancement.callback.call(target)}function fallback(){var enhancement,elems,numElems,i;for(enhancement in enhancements)if(enhancements.hasOwnProperty(enhancement))for(elems=getElements(enhancements[enhancement].selector),numElems=elems.length,i=0;numElems>i;i++)issueCallback(enhancements[enhancement],elems[i]);window.removeEventListener&&(d.removeEventListener("animationstart",onNodeInserted),d.removeEventListener("webkitAnimationStart",onNodeInserted))}function onNodeInserted(e){var enhancement=enhancements[e.animationName];enhancement&&issueCallback(enhancement,e.target)}if(animationSupport){d.getElementsByTagName("script")[0].parentNode.appendChild(styleElem);var styleSheet=styleElem.sheet;for(var enhancement in enhancements)enhancements.hasOwnProperty(enhancement)&&(enhancements[enhancement].elems=[],styleSheet.insertRule(enhancements[enhancement].selector+"{"+keyframePrefix+"animation:"+enhancement+" 0.001s;} ",styleSheet.cssRules.length),styleSheet.insertRule("@"+keyframePrefix+"keyframes "+enhancement+"{from{opacity:0.99;}to{opacity:1;}}",styleSheet.cssRules.length));d.addEventListener("animationstart",onNodeInserted,!1),d.addEventListener("webkitAnimationStart",onNodeInserted,!1)}window.addEventListener?window.addEventListener("DOMContentLoaded",fallback):window.attachEvent("onload",fallback)}var d=document,styleElem=d.createElement("style"),animationSupport=!1,keyframePrefix="";return void 0!==styleElem.style.animationName?animationSupport=!0:void 0!==styleElem.style.WebkitAnimationName&&(keyframePrefix="-webkit-",animationSupport=!0),{enhance:enhance}}();